<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Specter : Dead simple visual regression testing" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Specter</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/letsgetrandy/specter">View on GitHub</a>

          <h1 id="project_title">Specter</h1>
          <h2 id="project_tagline">Dead simple visual regression testing</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/letsgetrandy/specter/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/letsgetrandy/specter/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="specter" class="anchor" href="#specter"><span class="octicon octicon-link"></span></a>Specter</h1>

<p>Specter is the automated visual regression testing framework that you've been
wishing for.</p>

<p>For most other forms of software development there exist unit testing
frameworks with which a developer can verify that new code does nothing to
break existing code, but for the front-end (UI) developer, there are very few
tools to test design and layout, and the ones that do exist are terribly
clumsy. This has always resulted in a huge need for heavy manual testing and
QA after changes are made, to ensure that a change in one place doesn't break
something somewhere else.</p>

<p>Specter aims to change that. After you've built a page and you know it's right
you can set up a Specter test to prove that page, and each of its individual
components are correctly rendered. Specter will capture screenshots of the
elements matching the selectors you specify, at all the screen dimensions you
desire. Then, just run your suite of Specter tests the next time you make a
change to ensure you haven't broken anything. If something <em>does</em> break, you'll
get a nice screenshot with the differences highlighted in red.</p>

<h3>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>Requirements</h3>

<p>Specter is a XUL application, so it needs Firefox or XULRunner in order to work.</p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>To use Specter, just clone this repo and run <code>make</code> and <code>sudo make install</code>
to link the binary into your path and make it executable.</p>

<pre><code>$ git clone https://github.com/letsgetrandy/specter.git
$ cd specter
$ make
$ sudo make install
</code></pre>

<h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Check out the <a href="http://github.com/letsgetrandy/specter/tree/master/demo">demo</a> for a full working example (run <code>specter demo</code> from the command line).</p>

<h3>
<a name="quick-start" class="anchor" href="#quick-start"><span class="octicon octicon-link"></span></a>Quick Start</h3>

<p>Create your test file(s). Eg:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">open</span><span class="p">(</span><span class="s2">"http://www.google.com/"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="nx">test</span><span class="p">([</span><span class="mi">960</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">320</span><span class="p">],</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">capture</span><span class="p">(</span><span class="s2">"#header"</span><span class="p">,</span> <span class="s2">"header"</span><span class="p">);</span>
        <span class="nx">capture</span><span class="p">(</span><span class="s2">"#login"</span><span class="p">,</span> <span class="s2">"login-box"</span><span class="p">);</span>
        <span class="nx">capture</span><span class="p">(</span><span class="s2">"#footer"</span><span class="p">,</span> <span class="s2">"footer"</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">finish</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>

<p>Then, invoke specter on your tests. Specter can run a single test file:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>specter tests/test-login.js
</pre></div>

<p>Or, multiple files:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>specter tests/test-login.js tests/test-homepage.js tests/test-checkout.js
</pre></div>

<p>Or, it can recursively run every test file in a specified directory:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>specter tests
</pre></div>

<h3>
<a name="baselines" class="anchor" href="#baselines"><span class="octicon octicon-link"></span></a>Baselines</h3>

<p>The first time Specter captures a selector for a particular test, there is
nothing to compare it to, so that capture becomes the <em>baseline</em>. After that,
any time that selector is captured for that test, it will be compared to the
baseline.</p>

<p>When you make an intentional change, you'll wish to update the baseline. You
do this with the <code>--rebase</code> option.</p>

<div class="highlight highlight-bash"><pre><span class="c"># update the baseline for the homepage tests</span>
specter --rebase tests/test-homepage.js
</pre></div>

<h2>
<a name="configuration" class="anchor" href="#configuration"><span class="octicon octicon-link"></span></a>Configuration</h2>

<p>Specter follows standard .rc file behavior.</p>

<ul>
<li>Global defaults can be set in <code>/etc/specterrc</code>
</li>
<li>User-level settings can be set in <code>~/.specterrc</code>
</li>
<li>Project-level settings can be set within the project in a <code>.specterrc</code> file
in the current working directory, or any directory above it.</li>
</ul><div class="highlight highlight-bash"><pre><span class="nv">$ </span>cat .specterrc

<span class="o">[</span>paths<span class="o">]</span>
<span class="nv">testroot</span> <span class="o">=</span> static/styles/tests
<span class="nv">baseline</span> <span class="o">=</span> static/styles/screenshots
<span class="nv">diffdir</span>  <span class="o">=</span> /tmp/specter
</pre></div>

<p><strong>testroot</strong> is the folder that contains all the test files to run</p>

<p><strong>baseline</strong> is the directory in which baseline screen captures should be stored</p>

<p><strong>diffdir</strong> is where diff images are stored for comparison later</p>

<h2>
<a name="questions" class="anchor" href="#questions"><span class="octicon octicon-link"></span></a>Questions?</h2>

<p>If have other questions about Specter, what it does, how it works, or why, have
a look at the <a href="https://github.com/letsgetrandy/specter/wiki/FAQ">FAQ</a>, and if
you don't see the answers you're looking for there, contact me!</p>

<h2>
<a name="notes" class="anchor" href="#notes"><span class="octicon octicon-link"></span></a>Notes</h2>

<p><em>Relative paths in .specterrc files are relative to that file.</em></p>

<p>_v-0.3 note: baselines made with v-0.2 are not compatible with v-0.3.</p>

<p><em>v-0.2 note: the "specter" section in the rc files has been replaced by "paths" and "args" sections.</em></p>

<hr><p>Created and maintained by <a href="http://github.com/letsgetrandy">Randy Hunt</a></p>

<p>Portions of Specter were inspired by <a href="https://github.com/Huddle/PhantomCSS">PhantomCSS</a>,
and by <a href="https://github.com/laurentj/slimerjs">SlimerJS</a>.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Specter maintained by <a href="https://github.com/letsgetrandy">letsgetrandy</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
